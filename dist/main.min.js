var RnaContactForm=function(e,n){"use strict";n=n&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n;var t={name:"TextField",props:{label:{type:String},name:{type:String,required:!0},value:{type:String},required:{type:Boolean,default:!1},help:{type:String},error:{type:Array}}};function a(e,n,t,a,r,o,i,s,l,d){"boolean"!=typeof i&&(l=s,s=i,i=!1);const u="function"==typeof t?t.options:t;e&&e.render&&(u.render=e.render,u.staticRenderFns=e.staticRenderFns,u._compiled=!0,r&&(u.functional=!0)),a&&(u._scopeId=a);let m;if(o?(m=function(e){(e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),n&&n.call(this,l(e)),e&&e._registeredComponents&&e._registeredComponents.add(o)},u._ssrRegister=m):n&&(m=i?function(e){n.call(this,d(e,this.$root.$options.shadowRoot))}:function(e){n.call(this,s(e))}),m)if(u.functional){const c=u.render;u.render=function(e,n){return m.call(n),c(e,n)}}else{i=u.beforeCreate;u.beforeCreate=i?[].concat(i,m):[m]}return t}const o="undefined"!=typeof navigator&&/msie [6-9]\\b/.test(navigator.userAgent.toLowerCase());function r(e){return(e,n)=>function(n,t){const e=o?t.media||"default":n,a=s[e]||(s[e]={ids:new Set,styles:[]});if(!a.ids.has(n)){a.ids.add(n);let e=t.source;var r;t.map&&(e+="\n/*# sourceURL="+t.map.sources[0]+" */",e+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(t.map))))+" */"),a.element||(a.element=document.createElement("style"),a.element.type="text/css",t.media&&a.element.setAttribute("media",t.media),void 0===i&&(i=document.head||document.getElementsByTagName("head")[0]),i.appendChild(a.element)),"styleSheet"in a.element?(a.styles.push(e),a.element.styleSheet.cssText=a.styles.filter(Boolean).join("\n")):(r=a.ids.size-1,n=document.createTextNode(e),(t=a.element.childNodes)[r]&&a.element.removeChild(t[r]),t.length?a.element.insertBefore(n,t[r]):a.element.appendChild(n))}}(e,n)}let i;const s={};var l=t,d=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"textfield section"},[a("div",{class:["form-group",{required:t.required}],attrs:{"aria-required":t.required?"true":"false"}},[t.label?a("label",{attrs:{for:t.name}},[t._v(t._s(t.label))]):t._e(),t._v(" "),a("div",{staticClass:"form-group-container"},[a("input",{class:[{isInvalid:t.error}],attrs:{id:t.name,name:t.name,required:t.required,type:"text"},on:{input:function(e){return t.$emit("input",e.target.value)}}}),t._v(" "),t.error?t._l(t.error,function(e,n){return a("span",{key:t.name+"_error_"+n,staticClass:"error-message"},[t._v(t._s(e))])}):t._e()],2),t._v(" "),t.help?a("span",{staticClass:"help-block"},[a("p",[t._v(t._s(t.help))])]):t._e()])])},u=(d._withStripped=!0,a({render:d,staticRenderFns:[]},function(e){e&&e("data-v-c2660bf0_0",{source:"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",map:{version:3,sources:[],names:[],mappings:"",file:"TextField.vue"},media:void 0})},l,"data-v-c2660bf0",!1,void 0,!1,r,void 0,void 0)),m={name:"SelectField",props:{label:{type:String},name:{type:String,required:!0},value:{type:[String,Number]},required:{type:Boolean,default:!1},error:{type:Array},options:{type:Array,default:function(){return[]}}},computed:{selectedValue:function(){var n=this;if(!this.options||!this.value)return this.options[0].name;var e=this.options.find(function(e){return e.id.toString()===n.value.toString()});return e&&e.name?e.name||"":this.options[0].name}}},c=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"section dropdown"},[a("div",{staticClass:"form-group required",attrs:{"aria-required":"true"}},[a("label",{attrs:{for:"title"}},[t._v("Status")]),t._v(" "),a("div",{staticClass:"custom-selectbox"},[a("select",{attrs:{name:"title",id:"title"},on:{change:function(e){return t.$emit("input",e.target.value)}}},t._l(t.options,function(e){return a("option",{key:t.name+"_option_"+e.id,class:[{"selected-value":t.value==e.id}],domProps:{selected:t.value==e.id,value:e.id}},[t._v(t._s(e.name))])}),0),t._v(" "),a("span",{class:["selectedValue",{isInvalid:t.error}]},[t._v(t._s(t.selectedValue))]),t._v(" "),t.error?t._l(t.error,function(e,n){return a("span",{key:t.name+"_error_"+n,staticClass:"error-message"},[t._v(t._s(e))])}):t._e()],2)])])},t=(c._withStripped=!0,a({render:c,staticRenderFns:[]},function(e){e&&e("data-v-db8eb744_0",{source:"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",map:{version:3,sources:[],names:[],mappings:"",file:"SelectField.vue"},media:void 0})},m,"data-v-db8eb744",!1,void 0,!1,r,void 0,void 0)),d={name:"GdprRadio",props:{label:{type:String},name:{type:String,required:!0},value:[Boolean,String,Number],error:{type:Array},required:{type:Boolean}}},l=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"checkbox section form-group"},[a("div",{staticClass:"form-check-label"},[a("p",[t._v(t._s(t.label)+t._s(t.required?"*":""))])]),t._v(" "),a("div",{staticClass:"form-check form-check-inline checkbox-margin"},[a("label",{staticClass:"form-check-label",attrs:{for:"gdpr_"+t.name+"_yes"}},[t._v("Da\n            "),a("input",{staticClass:"form-check-input",attrs:{type:"radio",name:"gdpr_"+t.name,id:"gdpr_"+t.name+"_yes",value:"true"},domProps:{checked:!0===t.value},on:{change:function(e){return t.$emit("input",1)}}}),t._v(" "),a("span",{staticClass:"gdpr-radio-button"})])]),t._v(" "),a("div",{staticClass:"form-check form-check-inline checkbox-margin"},[a("label",{staticClass:"form-check-label",attrs:{for:"gdpr_"+t.name+"_no"}},[t._v("Ne\n            "),a("input",{staticClass:"form-check-input",attrs:{type:"radio",name:"gdpr_"+t.name,id:"gdpr_"+t.name+"_no",value:"false"},domProps:{checked:!1===t.value},on:{change:function(e){return t.$emit("input",0)}}}),t._v(" "),a("span",{staticClass:"gdpr-radio-button"})])]),t._v(" "),t.error?t._l(t.error,function(e,n){return a("span",{key:t.name+"_error_"+n,staticClass:"error-message"},[t._v(t._s(e))])}):t._e()],2)},c=(l._withStripped=!0,a({render:l,staticRenderFns:[]},function(e){e&&e("data-v-1b5c3c70_0",{source:"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",map:{version:3,sources:[],names:[],mappings:"",file:"GdprRadio.vue"},media:void 0})},d,"data-v-1b5c3c70",!1,void 0,!1,r,void 0,void 0)),m={name:"CustomerType",props:{physicalLabel:String,legalLabel:String,value:[String,Number]}},l=function(){var n=this,e=n.$createElement,e=n._self._c||e;return e("div",{staticClass:"menu-wrap"},[e("ul",{staticClass:"range-tab row"},[e("li",{class:["tab-holder",{active:0===Number(n.value)}],on:{click:function(e){return n.$emit("input",0)}}},[e("span",{staticClass:"tab-text"},[n._v(n._s(n.physicalLabel))])]),n._v(" "),e("li",{class:["tab-holder",{active:1===Number(n.value)}],on:{click:function(e){return n.$emit("input",1)}}},[e("span",{staticClass:"tab-text"},[n._v(n._s(n.legalLabel))])])])])},d=(l._withStripped=!0,a({render:l,staticRenderFns:[]},function(e){e&&e("data-v-120cc37a_0",{source:"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",map:{version:3,sources:[],names:[],mappings:"",file:"CustomerType.vue"},media:void 0})},m,"data-v-120cc37a",!1,void 0,!1,r,void 0,void 0)),l={name:"LegalAccordion",props:{error:{type:Array}},data:function(){return{expanded:!1}},methods:{onToggle:function(){this.expanded=!this.expanded,this.$emit("input",1)}}},m=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"legal-info-component"},[a("div",{staticClass:"legal-info-label",on:{click:t.onToggle}},[t._v("Upoznat(a) sam s informacijama o obradi osobnih podataka od strane Renault Nissan Hrvatska.")]),t._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:t.expanded,expression:"expanded"}],staticClass:"legal-info-text-content"},[t._m(0),t._v(" "),t._m(1),t._v(" "),t._m(2),t._v(" "),t._m(3),t._v(" "),t._m(4),t._v(" "),t._m(5),t._v(" "),t._m(6),t._v(" "),t._m(7),t._v(" "),t._m(8)])]),t._v(" "),a("p",{staticClass:"legal-info-disclamer"},[t._v("Obavezno pročitajte.")]),t._v(" "),t.error?t._l(t.error,function(e,n){return a("span",{key:"pravne_obavijesti_error_"+n,staticClass:"error-message"},[t._v(t._s(e))])}):t._e()],2)},t=(m._withStripped=!0,{name:"RnaContactForm",props:{brand:{type:String,default:"nissan"},country:{type:String,default:"hr"}},components:{LegalAccordion:a({render:m,staticRenderFns:[function(){var e=this,n=e.$createElement,n=e._self._c||n;return n("div",[n("div",[e._v("1. Voditelj obrade podataka")]),e._v(" "),n("div",[e._v("\n                    Renault Nissan Hrvatska d.o.o., Radnička cesta 47, 10000 Zagreb, pravna osoba koja na hrvatskom tržištu zastupa marke Renault, Dacia, Nissan i ovlašteni distributeri tih marki kod kojih se nalaze vaši podaci (popis je objavljen na "),n("a",{attrs:{href:"https://www.nissan.hr/trgovci",target:"_blank"}},[e._v("www.nissan.hr/trgovci")]),e._v(") kao zajednički voditelji obrade podataka.\n                ")])])},function(){var e=this,n=e.$createElement,n=e._self._c||n;return n("div",[e._v("\n                Za sva pitanja u vezi s obradom podataka ili vašim pravima, molimo kontaktirajte ovlaštenu osobu za zaštitu podataka: "),n("a",{attrs:{href:"mailto:zop.nissan@nissan.hr"}},[e._v("zop.nissan@nissan.hr")]),e._v(".\n            ")])},function(){var e=this,n=e.$createElement,n=e._self._c||n;return n("div",[n("div",[e._v("2. Svrhe obrade osobnih podataka")]),e._v(" "),n("div",[e._v("\n                    Renault Nissan Hrvatska d.o.o. sam ili izabrani ovlašteni distributer koristite vaše osobne podatke koje ste prenijeli putem ove internetske stranice u svrhu obrade vašeg zahtjeva iz ovog internetskog obrasca u roku potrebnom za izvršenje usluge. Vaši podaci mogu se koristiti za ankete o zadovoljstvu, za slanje komercijalnih ponuda za kupnju vozila i postprodajnih proizvoda, kao i za informacije o osobnim pogodnostima, događajima i drugim aktualnim vijestima.\n                ")])])},function(){var e=this,n=e.$createElement,n=e._self._c||n;return n("div",[n("div",[e._v("3. Osobni podaci")]),e._v(" "),n("div",[e._v("\n                    Osobni podaci ime, prezime, broj telefona, e-mail adresu, označeni s (*), potrebni su za obradu vašeg zahtjeva iz ovog internetskog obrasca; ako ih ne navedete, ne možemo obraditi vaš zahtjev.\n                    Osobni podaci obrađeni u svrhu slanja komercijalnih ponuda: ime, prezime, adresa, telefonski broj, e-mail adresa, socio-demografski podaci (ako je dopušteno), povijesne informacije o kupnji (ako je dopušteno).\n                ")])])},function(){var e=this,n=e.$createElement,n=e._self._c||n;return n("div",[n("div",[e._v("4. Pravna osnova")]),e._v(" "),n("div",[e._v("\n                    Upravljanje vašim zahtjevima prema ugovornim obvezama (obrada vašeg zahtjeva navedenog u ovom obrascu), legitimnom interesu (anketa o zadovoljstvu i vašoj privoli (slanje komercijalnih ponuda).\n                ")])])},function(){var e=this,n=e.$createElement,n=e._self._c||n;return n("div",[n("div",[e._v("5. Primatelji osobnih podataka")]),e._v(" "),n("div",[e._v("\n                    Ovlašteni trgovci koji po potrebi ispunjavaju navedene svrhe i ostale treće strane u skladu sa svojim zakonskim obvezama.\n                ")])])},function(){var e=this,n=e.$createElement,n=e._self._c||n;return n("div",[n("div",[e._v("6. Vaša prava")]),e._v(" "),n("div",[e._v("\n                    Vašu privolu možete opozvati u svakom trenutku na način da vašu odluku pisanim ili usmenim putem priopćite ovlaštenom distributeru ili društvu Renault Nissan Hrvatska, d.o.o. na e-mail adresu: "),n("a",{attrs:{href:"mailto:kontakt-stranke.hrvatska@nissan.hr"}},[e._v("kontakt-stranke.hrvatska@nissan.hr")]),e._v(".\n                    Imate pravo pristupa vašim osobnim podacima, ispravljanju, brisanju (osim ako je zahtjev u suprotnosti s važećim zakonom) i pravo na prigovor obradi vaših osobnih podataka, uključujući zabranu slanja obavijesti i druga prava, kako je objašnjeno u odjeljku o dodatnim informacijama (točka 8). U slučaju zloupotrebe vaših podataka, možete kontaktirati Renault Nissan Hrvatska d.o.o. na e-mail adresu: "),n("a",{attrs:{href:"mailto:zop.nissan@nissan.hr"}},[e._v("zop.nissan@nissan.hr")]),e._v(".\n                    Imate pravo na pravnu zaštitu. Možete kontaktirati Agenciju za zaštitu osobnih podataka (AZOP).\n                ")])])},function(){var e=this,n=e.$createElement,n=e._self._c||n;return n("div",[n("div",[e._v("7. Rok za pohranjivanje vaših osobnih podataka")]),e._v(" "),n("div",[e._v("\n                    Osobne podatke navedene u ovom zahtjevu, Renault Nissan Hrvatska d.o.o. sam ili odabrani ovlašteni trgovac koriste za obradu Vašeg zahtjeva u vrijeme koje je potrebno za obavljanje usluge i čuvaju ih najduže 3 godine. U slučaju korištenja vaših podataka za anketiranje o zadovoljstvu vaši podaci se čuvaju 1 godinu nakon završetka ove aktivnosti. U slučaju vaše pozitivne privole, vaši podaci mogu se objediniti i povezati s vašim drugim osobnim podacima koje čuvamo. Voditelj obrade prikuplja i obrađuje te osobne podatke do opoziva odnosno najviše 30 godina, u skladu s odredbama zakonodavstva o zaštiti osobnih podataka.\n                ")])])},function(){var e=this,n=e.$createElement,n=e._self._c||n;return n("div",[n("div",[e._v("8. Dodatne informacije")]),e._v(" "),n("div",[e._v("\n                    Za više i detaljnije informacije o zaštiti vaših osobnih podataka, pogledajte našu "),n("a",{attrs:{href:"https://www.nissan.hr/opce-zop",target:"_blank"}},[e._v("Politiku privatnosti")]),e._v(".\n                ")])])}]},function(e){e&&e("data-v-d1de9cd2_0",{source:"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",map:{version:3,sources:[],names:[],mappings:"",file:"LegalAccordion.vue"},media:void 0})},l,"data-v-d1de9cd2",!1,void 0,!1,r,void 0,void 0),CustomerType:d,GdprRadio:c,SelectField:t,TextField:u},created:function(){var t=this;if(!this.isCountryValid())throw"Unknown country "+this.country;this.i18n=function(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}(this.country).default,this.validator=n.make(this.form,this.rules,this.$t("validator")),this.validator.extend("requiredcompany",function(e,n){return 1!==Number(t.form.pravna_osoba)||n&&0<n.length}),this.validator.extend("requiredcontactchannel",function(e,n){return null!==n&&0<=n}),this.validator.extend("requiredlegalinfo",function(e,n){return n&&1===Number(n)})},data:function(){return{i18n:{},allowedCountries:["hr","si","rs","ba","me"],validator:null,validatorErrors:[],form:{isVehicleLagerForm:!1,forma_ver:3,odakle:null,marka:null,rvBIR:null,rvID:null,pdf_url:null,novo_vozilo:0,sto2_user_id:0,trazeni_model:null,pravna_osoba:0,status:0,ime:null,prezime:null,tvrtka:null,email:null,tel:null,ulica:null,kbr:null,pb:null,mjesto:null,poruka:null,kontakt_kanal_email:null,kontakt_kanal_telefon:null,kontakt_kanal_sms:null,kontakt_kanal_posta:null,procitane_pravne_obavijesti:null,koncesionari_id:0},rules:{status:["required","in:1,2,3"],ime:["required"],prezime:["required"],tvrtka:["requiredcompany"],email:["required","email"],kontakt_kanal_email:["requiredcontactchannel"],procitane_pravne_obavijesti:["requiredlegalinfo"]}}},computed:{statusOptions:function(){return[{id:0,name:this.$t("fields.status.select")},{id:1,name:this.$t("fields.status.sir")},{id:2,name:this.$t("fields.status.lady")},{id:3,name:this.$t("fields.status.miss")}]},hasEnteredTelephone:function(){return this.form.tel&&0<this.form.tel.length},hasEnteredFullAddress:function(){return this.form.ulica&&0<this.form.ulica.length&&this.form.kbr&&0<this.form.kbr.length&&this.form.pb&&0<this.form.pb.length&&this.form.mjesto&&0<this.form.mjesto.length}},methods:{isCountryValid:function(){return-1!==this.allowedCountries.indexOf(this.country)},$t:function(e){var n=this.i18n;if(-1===e.indexOf("."))return n[e]||"";var t,a=e.split(".");for(t in a){var r=a[t];if(!n[r])return"";n=n[r]}return n},getFieldError:function(e){return this.validatorErrors&&e in this.validatorErrors?this.validatorErrors[e]:null},onSubmit:function(){var e;this.validator.fails()&&(this.validatorErrors=this.validator.getErrors(),console.log(this.validatorErrors),!(e=Object.keys(this.validatorErrors)[0]||null)||(e=document.querySelector('[name="'+e+'"]'))&&(e.focus(),e.scrollIntoView()))}}}),u=function(){var n=this,e=n.$createElement,e=n._self._c||e;return e("div",{class:[n.brand],attrs:{id:"rna-contact-form"}},[e("div",{staticClass:"c_056"},[e("form",{staticClass:"customer-details-content",attrs:{method:"post",novalidate:""},on:{submit:function(e){return e.preventDefault(),n.onSubmit.apply(null,arguments)}}},[e("CustomerType",{attrs:{"physical-label":n.$t("fields.customer_type.physical"),"legal-label":n.$t("fields.customer_type.legal")},model:{value:n.form.pravna_osoba,callback:function(e){n.$set(n.form,"pravna_osoba",e)},expression:"form.pravna_osoba"}}),n._v(" "),e("SelectField",{attrs:{label:n.$t("fields.status.status"),name:"status",options:n.statusOptions,required:"",error:n.getFieldError("status")},model:{value:n.form.status,callback:function(e){n.$set(n.form,"status",e)},expression:"form.status"}}),n._v(" "),e("TextField",{attrs:{label:n.$t("fields.name"),name:"ime",required:"",error:n.getFieldError("ime")},model:{value:n.form.ime,callback:function(e){n.$set(n.form,"ime",e)},expression:"form.ime"}}),n._v(" "),e("TextField",{attrs:{label:n.$t("fields.last_name"),name:"prezime",required:"",error:n.getFieldError("prezime")},model:{value:n.form.prezime,callback:function(e){n.$set(n.form,"prezime",e)},expression:"form.prezime"}}),n._v(" "),e("TextField",{directives:[{name:"show",rawName:"v-show",value:1===Number(n.form.pravna_osoba),expression:"Number(form.pravna_osoba) === 1"}],attrs:{label:n.$t("fields.company"),name:"tvrtka",required:"",error:n.getFieldError("tvrtka")},model:{value:n.form.tvrtka,callback:function(e){n.$set(n.form,"tvrtka",e)},expression:"form.tvrtka"}}),n._v(" "),e("TextField",{attrs:{label:n.$t("fields.email"),name:"email",required:"",error:n.getFieldError("email")},model:{value:n.form.email,callback:function(e){n.$set(n.form,"email",e)},expression:"form.email"}}),n._v(" "),e("TextField",{attrs:{label:n.$t("fields.street"),name:"ulica",error:n.getFieldError("ulica")},model:{value:n.form.ulica,callback:function(e){n.$set(n.form,"ulica",e)},expression:"form.ulica"}}),n._v(" "),e("TextField",{attrs:{label:n.$t("fields.house_number"),name:"kbr",error:n.getFieldError("kbr")},model:{value:n.form.kbr,callback:function(e){n.$set(n.form,"kbr",e)},expression:"form.kbr"}}),n._v(" "),e("TextField",{attrs:{label:n.$t("fields.postal_code"),name:"pb",error:n.getFieldError("pb")},model:{value:n.form.pb,callback:function(e){n.$set(n.form,"pb",e)},expression:"form.pb"}}),n._v(" "),e("TextField",{attrs:{label:n.$t("fields.city"),name:"mjesto",error:n.getFieldError("mjesto")},model:{value:n.form.mjesto,callback:function(e){n.$set(n.form,"mjesto",e)},expression:"form.mjesto"}}),n._v(" "),e("TextField",{attrs:{label:n.$t("fields.telephone"),name:"tel",help:n.$t("fields.telephone_help"),error:n.getFieldError("tel")},model:{value:n.form.tel,callback:function(e){n.$set(n.form,"tel",e)},expression:"form.tel"}}),n._v(" "),e("div",{staticClass:"gdpr section"},[e("p",[n._v(n._s(n.$t("gdpr_title")))]),n._v(" "),e("GdprRadio",{attrs:{label:n.$t("fields.gdpr_contact_email"),name:"kontakt_kanal_email",error:n.getFieldError("kontakt_kanal_email")},model:{value:n.form.kontakt_kanal_email,callback:function(e){n.$set(n.form,"kontakt_kanal_email",e)},expression:"form.kontakt_kanal_email"}}),n._v(" "),e("GdprRadio",{directives:[{name:"show",rawName:"v-show",value:n.hasEnteredTelephone,expression:"hasEnteredTelephone"}],attrs:{label:n.$t("fields.gdpr_contact_sms"),name:"kontakt_kanal_sms",error:n.getFieldError("kontakt_kanal_sms")},model:{value:n.form.kontakt_kanal_sms,callback:function(e){n.$set(n.form,"kontakt_kanal_sms",e)},expression:"form.kontakt_kanal_sms"}}),n._v(" "),e("GdprRadio",{attrs:{label:n.$t("fields.gdpr_contact_telephone"),name:"kontakt_kanal_telefon",error:n.getFieldError("kontakt_kanal_telefon")},model:{value:n.form.kontakt_kanal_telefon,callback:function(e){n.$set(n.form,"kontakt_kanal_telefon",e)},expression:"form.kontakt_kanal_telefon"}}),n._v(" "),e("GdprRadio",{directives:[{name:"show",rawName:"v-show",value:n.hasEnteredFullAddress,expression:"hasEnteredFullAddress"}],attrs:{label:n.$t("fields.gdpr_contact_postal"),name:"kontakt_kanal_posta",error:n.getFieldError("kontakt_kanal_posta")},model:{value:n.form.kontakt_kanal_posta,callback:function(e){n.$set(n.form,"kontakt_kanal_posta",e)},expression:"form.kontakt_kanal_posta"}})],1),n._v(" "),e("LegalAccordion",{attrs:{error:n.getFieldError("procitane_pravne_obavijesti")},model:{value:n.form.procitane_pravne_obavijesti,callback:function(e){n.$set(n.form,"procitane_pravne_obavijesti",e)},expression:"form.procitane_pravne_obavijesti"}}),n._v(" "),e("div",{staticClass:"submit-form"},[e("button",{staticClass:"submit-form-button",attrs:{autocomplete:"off",type:"submit"}},[n._v(n._s(n.$t("submit")))])])],1)])])},v=(u._withStripped=!0,a({render:u,staticRenderFns:[]},function(e){e&&e("data-v-ee0f846a_0",{source:"\n@import './assets/css/fonts.css';\n@import './assets/css/base.css';\n",map:{version:3,sources:["/Users/josipzlimen/Projects/rna-contact-form/src/RnaContactForm.vue"],names:[],mappings:";AAuUA,gCAAA;AACA,+BAAA",file:"RnaContactForm.vue",sourcesContent:['<template>\n    <div id="rna-contact-form" :class="[brand]">\n        <div class="c_056">\n            <form method="post" class="customer-details-content" novalidate @submit.prevent="onSubmit">\n                \x3c!-- Vrsta korisnika --\x3e\n                <CustomerType\n                    :physical-label="$t(\'fields.customer_type.physical\')"\n                    :legal-label="$t(\'fields.customer_type.legal\')"\n                    v-model="form.pravna_osoba" />\n\n                \x3c!-- Titula korisnika --\x3e\n                <SelectField\n                    :label="$t(\'fields.status.status\')"\n                    name="status"\n                    :options="statusOptions"\n                    v-model="form.status"\n                    required\n                    :error="getFieldError(\'status\')" />\n\n                \x3c!-- Ime --\x3e\n                <TextField\n                    :label="$t(\'fields.name\')"\n                    name="ime"\n                    v-model="form.ime"\n                    required\n                    :error="getFieldError(\'ime\')" />\n\n                \x3c!-- Prezime --\x3e\n                <TextField\n                    :label="$t(\'fields.last_name\')"\n                    name="prezime"\n                    v-model="form.prezime"\n                    required\n                    :error="getFieldError(\'prezime\')" />\n\n                \x3c!-- Tvrtka --\x3e\n                <TextField\n                    v-show="Number(form.pravna_osoba) === 1"\n                    :label="$t(\'fields.company\')"\n                    name="tvrtka"\n                    v-model="form.tvrtka"\n                    required\n                    :error="getFieldError(\'tvrtka\')" />\n\n                \x3c!-- Email --\x3e\n                <TextField\n                    :label="$t(\'fields.email\')"\n                    name="email"\n                    v-model="form.email"\n                    required\n                    :error="getFieldError(\'email\')" />\n\n                \x3c!-- Ulica --\x3e\n                <TextField\n                    :label="$t(\'fields.street\')"\n                    name="ulica"\n                    v-model="form.ulica"\n                    :error="getFieldError(\'ulica\')" />\n\n                \x3c!-- Kucni broj --\x3e\n                <TextField\n                    :label="$t(\'fields.house_number\')"\n                    name="kbr"\n                    v-model="form.kbr"\n                    :error="getFieldError(\'kbr\')" />\n\n                \x3c!-- Postanski broj --\x3e\n                <TextField\n                    :label="$t(\'fields.postal_code\')"\n                    name="pb"\n                    v-model="form.pb"\n                    :error="getFieldError(\'pb\')" />\n\n                \x3c!-- Grad --\x3e\n                <TextField\n                    :label="$t(\'fields.city\')"\n                    name="mjesto"\n                    v-model="form.mjesto"\n                    :error="getFieldError(\'mjesto\')" />\n\n                \x3c!-- Broj telefona --\x3e\n                <TextField\n                    :label="$t(\'fields.telephone\')"\n                    name="tel"\n                    :help="$t(\'fields.telephone_help\')"\n                    v-model="form.tel"\n                    :error="getFieldError(\'tel\')" />\n\n                \x3c!-- GDPR --\x3e\n                <div class="gdpr section">\n                    <p>{{ $t(\'gdpr_title\') }}</p>\n\n                    \x3c!-- GDPR: Email --\x3e\n                    <GdprRadio\n                        :label="$t(\'fields.gdpr_contact_email\')"\n                        name="kontakt_kanal_email"\n                        v-model="form.kontakt_kanal_email"\n                        :error="getFieldError(\'kontakt_kanal_email\')" />\n\n                    \x3c!-- GDPR: SMS --\x3e\n                    <GdprRadio\n                        v-show="hasEnteredTelephone"\n                        :label="$t(\'fields.gdpr_contact_sms\')"\n                        name="kontakt_kanal_sms"\n                        v-model="form.kontakt_kanal_sms"\n                        :error="getFieldError(\'kontakt_kanal_sms\')" />\n\n                    \x3c!-- GDPR: Telefon --\x3e\n                    <GdprRadio\n                        :label="$t(\'fields.gdpr_contact_telephone\')"\n                        name="kontakt_kanal_telefon"\n                        v-model="form.kontakt_kanal_telefon"\n                        :error="getFieldError(\'kontakt_kanal_telefon\')" />\n\n                    \x3c!-- GDPR: Obicna posta --\x3e\n                    <GdprRadio\n                        v-show="hasEnteredFullAddress"\n                        :label="$t(\'fields.gdpr_contact_postal\')"\n                        name="kontakt_kanal_posta"\n                        v-model="form.kontakt_kanal_posta"\n                        :error="getFieldError(\'kontakt_kanal_posta\')" />\n                </div>\n\n                <LegalAccordion\n                    v-model="form.procitane_pravne_obavijesti"\n                    :error="getFieldError(\'procitane_pravne_obavijesti\')" />\n\n                <div class="submit-form">\n                    <button autocomplete="off" type="submit" class="submit-form-button">{{ $t(\'submit\') }}</button>\n                </div>\n            </form>\n        </div>\n    </div>\n</template>\n\n<script>\n\nimport TextField from "./components/TextField.vue";\nimport SelectField from "./components/SelectField.vue";\nimport GdprRadio from "./components/GdprRadio.vue";\nimport CustomerType from "./components/CustomerType.vue";\nimport LegalAccordion from "./components/LegalAccordion.vue";\nimport Validator from "Validator";\n\nexport default {\n    name: \'RnaContactForm\',\n\n    props: {\n        brand: {\n            type: String,\n            default: \'nissan\'\n        },\n\n        country: {\n            type: String,\n            default: \'hr\'\n        }\n    },\n\n    components: {\n        LegalAccordion,\n        CustomerType,\n        GdprRadio,\n        SelectField,\n        TextField\n    },\n\n    created() {\n        if (this.isCountryValid()) {\n            this.i18n = require(`./lang/${this.country}`).default;\n        } else {\n            throw `Unknown country ${this.country}`;\n        }\n\n        this.validator = Validator.make(this.form, this.rules, this.$t(\'validator\'));\n\n        this.validator.extend(\'requiredcompany\', (name, value) => {\n            if (Number(this.form.pravna_osoba) === 1) {\n                return value && value.length > 0;\n            }\n\n            return true;\n        });\n\n        this.validator.extend(\'requiredcontactchannel\', (name, value) => {\n            return value !== null && value >= 0;\n        });\n\n        this.validator.extend(\'requiredlegalinfo\', (name, value) => {\n            return value && Number(value) === 1;\n        });\n    },\n\n    data() {\n        return {\n            i18n: {},\n\n            allowedCountries: [\'hr\', \'si\', \'rs\', \'ba\', \'me\'],\n\n            validator: null,\n            validatorErrors: [],\n\n            form: {\n                isVehicleLagerForm: false,\n                forma_ver: 3,\n                odakle: null,\n                marka: null,\n                rvBIR: null,\n                rvID: null,\n                pdf_url: null,\n                novo_vozilo: 0,\n                sto2_user_id: 0,\n\n                trazeni_model: null,\n                pravna_osoba: 0,\n                status: 0,\n                ime: null,\n                prezime: null,\n                tvrtka: null,\n                email: null,\n                tel: null,\n                ulica: null,\n                kbr: null,\n                pb: null,\n                mjesto: null,\n                poruka: null,\n                kontakt_kanal_email: null,\n                kontakt_kanal_telefon: null,\n                kontakt_kanal_sms: null,\n                kontakt_kanal_posta: null,\n                procitane_pravne_obavijesti: null,\n                koncesionari_id: 0\n            },\n\n            rules: {\n                status: [\'required\', \'in:1,2,3\'],\n                ime: [\'required\'],\n                prezime: [\'required\'],\n                tvrtka: [\'requiredcompany\'],\n                email: [\'required\', \'email\'],\n                kontakt_kanal_email: [\'requiredcontactchannel\'],\n                procitane_pravne_obavijesti: [\'requiredlegalinfo\']\n            }\n        }\n    },\n\n    computed: {\n        statusOptions() {\n            return [\n                { id: 0, name: this.$t(\'fields.status.select\') },\n                { id: 1, name: this.$t(\'fields.status.sir\') },\n                { id: 2, name: this.$t(\'fields.status.lady\') },\n                { id: 3, name: this.$t(\'fields.status.miss\') }\n            ];\n        },\n\n        hasEnteredTelephone() {\n            return this.form.tel && this.form.tel.length > 0;\n        },\n\n        hasEnteredFullAddress() {\n            return this.form.ulica && this.form.ulica.length > 0\n                && this.form.kbr && this.form.kbr.length > 0\n                && this.form.pb && this.form.pb.length > 0\n                && this.form.mjesto && this.form.mjesto.length > 0;\n        }\n    },\n\n    methods: {\n\n        isCountryValid() {\n            return this.allowedCountries.indexOf(this.country) !== -1;\n        },\n\n        $t(param) {\n            let obj = this.i18n;\n\n            if (param.indexOf(\'.\') !== -1) {\n                let parts = param.split(\'.\');\n\n                for (let partIndex in parts) {\n                    let part = parts [partIndex];\n                    if (obj [part]) {\n                        obj = obj [part];\n                    } else {\n                        return \'\';\n                    }\n                }\n\n                return obj;\n            }\n\n            return obj [param] || \'\';\n        },\n\n        getFieldError(field) {\n            if (this.validatorErrors && field in this.validatorErrors) {\n                return this.validatorErrors [field];\n            }\n\n            return null;\n        },\n\n        onSubmit() {\n            if (this.validator.fails()) {\n                this.validatorErrors = this.validator.getErrors();\n                console.log(this.validatorErrors);\n\n                /**\n                 * Focus first field with error\n                 */\n                let firstError = Object.keys(this.validatorErrors)[0] || null;\n\n                if (firstError) {\n                    const el = document.querySelector(`[name="${firstError}"]`);\n                    if (el) {\n                        el.focus();\n                        el.scrollIntoView();\n                    }\n                }\n            }\n        }\n    }\n}\n<\/script>\n\n<style scoped>\n    @import \'./assets/css/fonts.css\';\n    @import \'./assets/css/base.css\';\n</style>\n']},media:void 0})},t,"data-v-ee0f846a",!1,void 0,!1,r,void 0,void 0));function p(e){p.installed||(p.installed=!0,e.component("RnaContactForm",v))}t=null;return"undefined"!=typeof window?t=window.Vue:"undefined"!=typeof global&&(t=global.Vue),t&&t.use({install:p}),e.default=v,e.install=p,e}({},Validator);
